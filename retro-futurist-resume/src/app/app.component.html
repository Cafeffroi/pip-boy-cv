<div
  class="app-container"
  [ngStyle]="{
    'background-color': currentTheme?.background,
    color: currentTheme?.primary,
  }"
>
  <!-- CRT Scanline Effect -->
  <div class="scanline-overlay"></div>
  <div class="scanline-moving"></div>

  <!-- Loading Screen -->
  <app-loading-screen *ngIf="isLoading" (loadingComplete)="onLoadingComplete()">
  </app-loading-screen>

  <!-- Terminal Content -->
  <div *ngIf="!isLoading" class="terminal-content">
    <div class="terminal-wrapper">
      <!-- Header with Back, Language and Theme buttons -->
      <div class="terminal-header">
        <button
          *ngIf="currentView !== 'menu'"
          (click)="goBack()"
          class="back-button"
          [ngStyle]="{
            border: '1px solid ' + currentTheme?.primary,
            color: currentTheme?.primary,
          }"
        >
          &lt; {{ "NAVIGATION.BACK" | translate }}
        </button>

        <div class="header-buttons">
          <button
            (click)="toggleLanguage()"
            class="lang-button"
            [ngStyle]="{
              border: '1px solid ' + currentTheme?.primary,
              color: currentTheme?.primary,
            }"
          >
            [{{ currentLanguage === "fr" ? "EN" : "FR" }}]
          </button>

          <button
            (click)="toggleTheme()"
            class="theme-button"
            [ngStyle]="{
              border: '1px solid ' + currentTheme?.primary,
              color: currentTheme?.primary,
            }"
          >
            [{{
              themeName === "green"
                ? ("NAVIGATION.THEME_GREEN" | translate)
                : ("NAVIGATION.THEME_AMBER" | translate)
            }}]
          </button>
        </div>
      </div>

      <!-- Content Area -->
      <div class="content-area">
        <app-terminal-menu
          *ngIf="currentView === 'menu'"
          (viewChange)="onViewChange($event)"
        >
        </app-terminal-menu>

        <app-resume-sections
          *ngIf="currentView !== 'menu' && currentView !== 'contact'"
          [section]="currentView"
        >
        </app-resume-sections>

        <app-contact *ngIf="currentView === 'contact'"> </app-contact>
      </div>
    </div>

    <!-- Command Line -->
    <div
      class="command-line"
      [ngStyle]="{
        'border-top': '2px solid ' + currentTheme?.primary,
        'background-color': currentTheme?.background,
      }"
    >
      <div class="command-wrapper">
        <span class="command-prompt">&gt;</span>
        <input
          #commandInput
          type="text"
          class="command-input"
          [(ngModel)]="commandText"
          (keydown.enter)="executeCommand()"
          [ngStyle]="{
            color: currentTheme?.primary,
          }"
          [placeholder]="'COMMAND.PLACEHOLDER' | translate"
        />
      </div>
      <div class="command-hint" *ngIf="showCommandHint">
        {{ commandHint }}
      </div>
    </div>
  </div>
</div>
